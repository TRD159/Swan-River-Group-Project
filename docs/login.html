<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="COSC 4353 group project.">
    <meta name="keywords" content="swan river, group project, cosc 4353">
    <meta property="og:title" content="Swan River Group Project">
    <meta property="og:description" content="COSC 4353 group project. Team: Swan River.">
    <meta property="og:image" content="/images/swan.jpg">
    <meta property="og:url" content="https://jcwill23-uh.github.io/Swan-River-Group-Project/">
    <title>Login - Office 365</title>

    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>

<body class="login-page">
    <div class="login-container">
        <h2>Login with Office365</h2>
        <a class="login-btn" href="/login">Login with Office365</a>
    </div>

    <script>
        async function checkLogin() {
            try {
                const response = await fetch('/check_session');
                const data = await response.json();

                if (data.logged_in) {
                    if (data.role === "admin") {
                        window.location.href = "admin.html";
                    } else {
                        window.location.href = "basic_user_home.html";
                    }
                }
            } catch (error) {
                console.error("Error checking session:", error);
            }
        }

        checkLogin();
    </script>
</body>
</html>
