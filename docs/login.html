<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="COSC 4353 group project.">
    <meta name="keywords" content="swan river, group project, cosc 4353">
    <meta property="og:title" content="Swan River Group Project">
    <meta property="og:description" content="COSC 4353 group project. Team: Swan River.">
    <meta property="og:image" content="/images/swan.jpg">
    <meta property="og:url" content="https://jcwill23-uh.github.io/Swan-River-Group-Project/">

    <title>Swan River Group Project</title>

    <link rel="icon" type="image/png" href="/images/swan.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <script src="script.js" defer></script>
</head>

<body class="normal">
    <div class="login-container">
        <h2>Welcome</h2>
        <p>Click the button below to login with Office365:</p>
        <a class="login-btn" href="https://swan-river-group-project-egh0hmfcf6c9f2ef.centralus-01.azurewebsites.net/login/">Login with Office365</a>

    <script>
        async function checkLogin() {
            try {
                const response = await fetch('https://swan-river-group-project-egh0hmfcf6c9f2ef.centralus-01.azurewebsites.net/check_session');
                const data = await response.json();

                if (data.logged_in) {
                    if (data.role === "admin") {
                        window.location.href = "admin.html";
                    } else {
                        window.location.href = "basic-user-home.html";
                    }
                }
            } catch (error) {
                console.error("Error checking session:", error);
            }
        }

        checkLogin();
    </script>
        <!--<a class="login-btn" href="{{ url_for('login') }}">Login with Office365</a>-->
      </div>
</body>
</html>
